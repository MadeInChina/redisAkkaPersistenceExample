akka {
  loggers = ["akka.event.slf4j.Slf4jLogger"]
  loglevel = DEBUG

  actor {
    serializers {
      docPackEvent = "ru.agafontsev.docpack.DocPackEventSerializer"
    }

    serialization-bindings {
      "ru.agafontsev.docpack.DocPackPersistent$ConvertWorkflowSent" = docPackEvent
      "ru.agafontsev.docpack.DocPackPersistent$ConvertWorkflowConfirmed" = docPackEvent
    }
  }

  persistence {
    journal.plugin = "akka-persistence-redis.journal"
  }
}

# Config for the plugin
akka-persistence-redis {
  journal {
    # class name of the plugin
    class = "ru.agafontsev.persistent.RedisWriteJournal"

    # Dispatcher for fetching and replaying messages
    replay-dispatcher = "akka.persistence.dispatchers.default-replay-dispatcher"

    event-adapters {
      docPackTagging = "ru.agafontsev.docpack.DocPackTaggingWriteAdapter"
    }

    event-adapter-bindings {
      "ru.agafontsev.docpack.DocPackPersistent$ConvertWorkflowConfirmed" = docPackTagging
    }
  }
}

redis {
  host = "192.168.56.101"
  port = 6379
}